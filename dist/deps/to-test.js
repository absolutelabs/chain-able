var esc = require('./escape-string-regex')
var isString = require('./is/string')
var isFunction = require('./is/function')

/**
 * @since  3.0.0
 * @NOTE   as else-if for easier ternary uglification
 * @param  {Matchable} matchable
 * @param  {any} arg1
 * @param  {any} arg2
 * @return {boolean}
 */
module.exports = function (matchable, arg1, arg2) {
  if (isString(matchable)) { return !!new RegExp(esc(matchable)).test(arg1) }
  else if (isFunction(matchable) && !matchable.test) { return !!matchable(arg1) }
  else { return !!matchable.test(arg1, arg2) }
}

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidG8tdGVzdC5qcyIsInNvdXJjZXMiOlsidG8tdGVzdC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBlc2MgPSByZXF1aXJlKCcuL2VzY2FwZS1zdHJpbmctcmVnZXgnKVxuY29uc3QgaXNTdHJpbmcgPSByZXF1aXJlKCcuL2lzL3N0cmluZycpXG5jb25zdCBpc0Z1bmN0aW9uID0gcmVxdWlyZSgnLi9pcy9mdW5jdGlvbicpXG5cbi8qKlxuICogQHNpbmNlICAzLjAuMFxuICogQE5PVEUgICBhcyBlbHNlLWlmIGZvciBlYXNpZXIgdGVybmFyeSB1Z2xpZmljYXRpb25cbiAqIEBwYXJhbSAge01hdGNoYWJsZX0gbWF0Y2hhYmxlXG4gKiBAcGFyYW0gIHthbnl9IGFyZzFcbiAqIEBwYXJhbSAge2FueX0gYXJnMlxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSAobWF0Y2hhYmxlLCBhcmcxLCBhcmcyKSA9PiB7XG4gIGlmIChpc1N0cmluZyhtYXRjaGFibGUpKSByZXR1cm4gISFuZXcgUmVnRXhwKGVzYyhtYXRjaGFibGUpKS50ZXN0KGFyZzEpXG4gIGVsc2UgaWYgKGlzRnVuY3Rpb24obWF0Y2hhYmxlKSAmJiAhbWF0Y2hhYmxlLnRlc3QpIHJldHVybiAhIW1hdGNoYWJsZShhcmcxKVxuICBlbHNlIHJldHVybiAhIW1hdGNoYWJsZS50ZXN0KGFyZzEsIGFyZzIpXG59XG4iXSwibmFtZXMiOlsiY29uc3QiXSwibWFwcGluZ3MiOiJBQUFBQSxHQUFLLENBQUMsR0FBRyxHQUFHLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztBQUM1Q0EsR0FBSyxDQUFDLFFBQVEsR0FBRyxPQUFPLENBQUMsYUFBYSxDQUFDO0FBQ3ZDQSxHQUFLLENBQUMsVUFBVSxHQUFHLE9BQU8sQ0FBQyxlQUFlLENBQUM7Ozs7Ozs7Ozs7QUFVM0MsTUFBTSxDQUFDLE9BQU8sR0FBRyxTQUFBLENBQUMsU0FBUyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsQUFBRztFQUMxQyxJQUFJLFFBQVEsQ0FBQyxTQUFTLENBQUMsRUFBRSxFQUFBLE9BQU8sQ0FBQyxDQUFDLElBQUksTUFBTSxDQUFDLEdBQUcsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsRUFBQTtPQUNsRSxJQUFJLFVBQVUsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUUsRUFBQSxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEVBQUE7T0FDdEUsRUFBQSxPQUFPLENBQUMsQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksRUFBRSxJQUFJLENBQUMsRUFBQTtDQUN6QzsifQ==